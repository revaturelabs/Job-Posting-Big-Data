"Cronjob not running php script | DigitalOcean× Share this QuestionWhere would you like to share this to?TwitterRedditHacker NewsFacebookShare linkQuestion share link× Share your QuestionYour question has been posted! Share it with others to increase its visibility and to get it answered quickly.Where would you like to share this to?TwitterShare linkQuestion share link×Sign up for our newsletterGet the latest tutorials on SysAdmin and open source topics.Sign Up×Thanks for signing up!× Replace previous answer?A question can only have one accepted answer. Are you sure you want to replace the current answer with this one?Yes, I'm sure× Changed your mind?You previously marked this answer as accepted. Are you sure you want to unaccept it?Yes, I'm sureDigitalOcean homeProductsPricingDocsProduct DocsAPI DocsSign inSign in toCommunityControl PanelTutorialsQuestionsGet InvolvedParticipateHub for Good Supporting each other to make an impactWrite for DigitalOcean You get paid, we donate to tech non-profits.Hacktoberfest Contribute to Open SourceBuild with DigitalOceanCommunity Tools and IntegrationsHatch Startup ProgramMarketplace Partner ProgramSolutions Partner ProgramPresentation GrantsDigitalOcean on GitHubSearch DigitalOcean /Sign UpRelatedApp Platform: Run PHP apps without managing servers ProductWrite image permission denied QuestionCan't install php-soap to my PHP 7.0 centos Question5QuestionCronjob not running php scriptPosted April 28, 2015 61k viewsUbuntuApachePHPLAMP StackLinux CommandsI set up cronjob with following command:sudo crontab -eI tried following statements for cronjob but it doesn’t work:30 2 * * * php -q /path/to/php/script.php30 2 * * * /usr/bin/php /path/to/php/script.php30 2 * * * /usr/bin/php -q /path/to/php/script.phpBut when I tried the GET method as follows, it works:30 2 * * * wget http://my.domain.com/path/to/php/script.phpI have a LAMP setup Ubuntu 12.04 (64-bit) system with my PHP version manually upgraded from 5.3 - 5.4 to run modules on my WHMCS installation.Any idea what’s going wrong while running with PHP mode? I don’t want to use GET method!Add a commentSubscribe SubscribedShareReportBy:saurabhRelatedApp Platform: Run PHP apps without managing servers ProductWrite image permission denied QuestionCan't install php-soap to my PHP 7.0 centos QuestionAdd a commentLeave a commentSign In to CommentThese answers are provided by our Community. If you find them useful, show some love by clicking the heart. If you run into issues leave a comment, or add your own answer to help others.×2 answers7thinkingmedia April 28, 2015Crontab executes the task using the current user that ran crontab -e. When you use wget it’s handled by Apache using the www-data user/group pair.First, make sure the script works as expected. $ php /path/to/php/script.phpSecond, edit the crontab for the Apache user account $ sudo crontab -u www-data -eNow add the crontab and output to a log file.30 2 * * * php /path/to/php/script.php >> /var/log/apache2/crontab.logI would recommend that you create a bash script to run this, and then call that with crontab.Reply Report0caodeveloping October 9, 2016For me, the sudo crontab -u www-data -e was the solution. Big thanks!!Reply Report0xovih August 30, 2018Thanks, it’s also help meReply Report2JonsJava April 29, 2015Most likely, it is looking for config scripts in a relative path.Think of this example:php /path/to/file.phpNow, if the file has something like this:include 'config.inc.php';....This will fail, because you are in your home directory, not in the same directory where config.inc.php resides.Now, when you call it via a curl/wget call:curl http://some-site.com/file.phpApache will tell it that it is being executed in /path/to/, so when it looks for config.inc.php, it will find it.Relative paths are good, but only if you fully understand how they work. If you prefer not to use wget/curl, change the cron to something like this:30 2 * * * cd /path/to/php/; /usr/bin/php -q script.phpReply Report0bhoopendramodan March 16, 2016[deleted]Reply ReportSubmit an AnswerSubmit an answerYou can type !ref in this text area to quickly search our full set of tutorials, documentation & marketplace offerings and insert the link!Sign In to AnswerRelatedquestionWrite image permission deniedI have added user to root, chown, change permission to 755 , yet write image permission denied. I tried PHP Imagick function, it didn't work. I followed this...questionCan't install php-soap to my PHP 7.0 centosHello, I'm trying to install ext-soap to my php server. I have PHP 7.0 but when i say \"yum install php-soap\" it tries to install soap for 5.4.6. Here's my error log: --> Running transaction check ---> Package php-soap.x86_64 0:5.4.16-45.el7...questioncpu from 13% to 100% in one minuteI have a website (it's the only site hosted on the droplet) and sometimes (about 1 time each month, but not on the same day) the CPU usage goes through the roof. I have absolutely no idea what's causing it, but in 1 minute the CPU usage goes from...questionPHP Error Log: authz_core:error - For files that don't exists on my serverI am getting hundreds of hits on my server over time that generate an error like the one below. I removed my username from the error. These files that are showing up in my error log, don't exist on my server. Is someone hitting my server, and...Looking for something else?Ask a new question Search for more helpGet our biweekly newsletterSign up for Infrastructure as a Newsletter.Hub for GoodWorking on improving health and education, reducing inequality, and spurring economic growth? We'd like to help.Become a contributorYou get paid; we donate to tech nonprofits.Featured on Community Kubernetes Course Learn Python 3 Machine Learning in Python Getting started with Go Intro to KubernetesDigitalOcean Products Virtual Machines Managed Databases Managed Kubernetes Block Storage Object Storage Marketplace VPC Load BalancersWelcome to the developer cloudDigitalOcean makes it simple to launch in the cloud and scale up as you grow – whether you’re running one virtual machine or ten thousand.Learn MoreDigitalOcean Homepage© DigitalOcean, LLC. All rights reserved.CompanyAboutLeadershipBlogCareersPartnersReferral ProgramPressLegalSecurity & Trust CenterProductsPricingProducts OverviewDropletsKubernetesManaged DatabasesSpacesMarketplaceLoad BalancersBlock StorageAPI DocumentationDocumentationRelease NotesCommunityTutorialsQ&ATools and IntegrationsTagsProduct IdeasWrite for DigitalOceanPresentation GrantsHatch Startup ProgramShop SwagResearch ProgramOpen SourceCode of ConductContactGet SupportTrouble Signing In?SalesReport AbuseSystem Status× Join the CommunityBefore you can do that To complete this action, sign in to your Community account or create a new one.Sign In Sign Up×CommunityTutorialsQuestionsWrite for UsHacktoberfestToolsProductsHomepagePricingProduct OverviewMarketplaceCustomersControl PanelDocumentationContact SupportContact SalesSign In"
