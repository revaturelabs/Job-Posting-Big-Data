"HttpJob - Error decoding data | B4X Programming ForumMenuHomeProductsB4A B4i B4J B4RShowcaseStoreLearnGeneral Guides Video Tutorials GlossaryTeachBlogForumsNew postsWhat's new New profile posts Latest activityMembersCurrent visitors New profile posts Search profile postsLog in RegisterWhat's newMenuLog inRegisterWelcome to B4X forum!B4X is a set of simple and powerful cross platform RAD tools:B4A (free) - Android developmentB4J (free) - Desktop and Server developmentB4i - iOS developmentB4R (free) - Arduino, ESP8266 and ESP32 developmentAll developers, with any skill level, are welcomed to join the B4X community.HomeForumsB4i - iOSiOS QuestionsJavaScript is disabled. For a better experience, please enable JavaScript in your browser before proceeding.iOS Question HttpJob - Error decoding dataThread starter BlueforcerStart date Mar 3, 2019Similar threadsB4A Tutorial [B4X] OkHttpUtils2 with Wait ForB4J Tutorial [B4X] Resumable Subs - Sleep / Wait ForB4i Question [Solved] Social ShareB4i Question [Solved] Error CreateBitmap Object was not initialized (UIImage)B4i Question Problem with LSSupportsOpeningDocumentsInPlace ?BlueforcerActive MemberLicensed UserMar 3, 2019#1I want to clone my B4A app to iOS.I download a json string from my server wich works fine in B4A:B4X:Dim j As HttpJob    j.Initialize(\"bmplist\", Me)    j.PostString(link,$\"{\"reqType\":\"bmplist\",\"filter\":\"\"}\"$)    j.GetRequest.SetContentType(\"application/json\")    Wait For JobDone (j As HttpJob)    Log(j.GetString)but i get an error in B4i:B4X:Class (b4i_httpjob) instance released.Error occurred on line: 223 (HttpJob)Error decoding data as string.Stack Trace: (  CoreFoundation       <redacted> + 252  libobjc.A.dylib      objc_exception_throw + 56  CoreFoundation       <redacted> + 0  AWTRIXER             -[B4ICommon BytesToString::::] + 344  AWTRIXER             -[B4IHttpResponse GetString2:] + 260  AWTRIXER             -[b4i_httpjob _getstring2::] + 600  AWTRIXER             -[b4i_httpjob _getstring:] + 408  AWTRIXER             -[ResumableSub_iconlist_fill resume::] + 1696  CoreFoundation       <redacted> + 144  CoreFoundation       <redacted> + 292 AWTRIXER             +[B4I runDynamicMethod:method:throwErrorIfMissing:args:] + 1624 AWTRIXER             -[B4IShell runMethod:] + 448 AWTRIXER             -[B4IShell raiseEventImpl:method:args::] + 2172 AWTRIXER             -[B4IShellBI raiseEvent:event:params:] + 1580 AWTRIXER             -[B4IDelegatableResumableSub resume::] + 380 AWTRIXER             -[B4I checkAndRunWaitForEvent:event:params:] + 552 AWTRIXER             -[B4ICommon CallSubDebug4::::] + 488 AWTRIXER             -[B4ICommon CallSubDebug2::::] + 360 AWTRIXER             -[b4i_httpjob _complete::] + 768 AWTRIXER             -[b4i_httputils2service _completejob::::] + 1288 AWTRIXER             -[b4i_httputils2service _hc_responsesuccess::] + 636 CoreFoundation       <redacted> + 144 CoreFoundation       <redacted> + 292 AWTRIXER             +[B4I runDynamicMethod:method:throwErrorIfMissing:args:] + 1624 AWTRIXER             -[B4IShell runMethod:] + 448 AWTRIXER             -[B4IShell raiseEventImpl:method:args::] + 2172 AWTRIXER             -[B4IShellBI raiseEvent:event:params:] + 1580 AWTRIXER             __61-[B4IHttp URLSession:downloadTask:didFinishDownloadingToURL:]_block_invoke + 268 libdispatch.dylib    <redacted> + 16 libdispatch.dylib    <redacted> + 92 libdispatch.dylib    <redacted> + 16 libdispatch.dylib    <redacted> + 1068 CoreFoundation       <redacted> + 12 CoreFoundation       <redacted> + 1964 CoreFoundation       CFRunLoopRunSpecific + 436 GraphicsServices     GSEventRunModal + 100 UIKitCore            UIApplicationMain + 212 AWTRIXER             main + 124 libdyld.dylib        <redacted> + 4)Whats the problem?ErelAdministratorStaff memberLicensed UserMar 3, 2019#2You should probably use Job.GetString2 and pass the correct encoding.B4X programming - video tutorialsAll Android developers should readTeaching programming with B4XBlueforcerActive MemberLicensed UserMar 3, 2019#3With iso-8859-1 it works, but it is UTF8 and also works with UTF8 in B4A.Whats the difference between encoding in B4A and B4i?ErelAdministratorStaff memberLicensed UserMar 3, 2019#4It is not a valid UTF8 string. Otherwise it would have worked.Blueforcer said:Whats the difference between encoding in B4A and B4i?Click to expand...Android decoder is more lenient and sometimes ignores decoding errors.B4X programming - video tutorialsAll Android developers should readTeaching programming with B4XReactions: BlueforcerYou must log in or register to reply here.Share:Facebook Twitter Reddit Pinterest Tumblr WhatsApp Email LinkHomeForumsB4i - iOSiOS QuestionsContact usTerms and rulesPrivacy policyHelpHomeRSSForum software by XenForo® © 2010-2020 XenForo Ltd.This site uses cookies to help personalise content, tailor your experience and to keep you logged in if you register.By continuing to use this site, you are consenting to our use of cookies.Accept Learn more…Top"
